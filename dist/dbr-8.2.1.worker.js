'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};
$jscomp.polyfill=function(a,b,d,k){if(b){d=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var f=a[k];f in d||(d[f]={});d=d[f]}a=a[a.length-1];k=d[a];b=b(k);b!=k&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(a){return a instanceof f?a:new f(function(b,A){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var k=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){k(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var d=a[b];a[b]=null;try{d()}catch(z){this.asyncThrow_(z)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(F){b.reject(F)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(A){d||(d=!0,a.call(b,A))}}var b=this,d=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(F){this.reject_(F);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)v.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var v=new b;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var d=this.createResolveAndReject_();try{a.call(b,d.resolve,d.reject)}catch(z){d.reject(z)}};f.prototype.then=function(a,b){function d(a,b){return"function"==typeof a?function(b){try{k(a(b))}catch(T){A(T)}}:b}var k,A,v=new f(function(a,b){k=a;A=b});this.callWhenSettled_(d(a,k),d(b,A));return v};
f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function d(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?v.asyncExecute(d):this.onSettledCallbacks_.push(d)};f.resolve=d;f.reject=function(a){return new f(function(b,d){d(a)})};f.race=function(a){return new f(function(b,f){for(var k=$jscomp.makeIterator(a),A=k.next();!A.done;A=k.next())d(A.value).callWhenSettled_(b,
f)})};f.all=function(a){var b=$jscomp.makeIterator(a),k=b.next();return k.done?d([]):new f(function(a,f){function A(b){return function(d){v[b]=d;z--;0==z&&a(v)}}var v=[],z=0;do v.push(void 0),z++,d(k.value).callWhenSettled_(A(v.length-1),f),k=b.next();while(!k.done)})};return f},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+b++,d)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(d){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var d=a.next();$jscomp.generator.ensureIteratorResultIsObject_(d);if(d.done)this.yieldResult=d.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(d.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,d){d?this.finallyContexts_[d]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,d){try{var k=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(k);if(!k.done)return this.context_.stop_(),k;var f=k.value}catch(v){return this.context_.yieldAllIterator_=null,this.context_.throw_(v),this.nextStep_()}this.context_.yieldAllIterator_=null;d.call(this.context_,f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function d(b){return a.throw(b)}return new Promise(function(k,f){function v(a){a.done?k(a.value):Promise.resolve(a.value).then(b,d).then(v,f)}v(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(()=>{const a=!!("object"==typeof global&&global.process&&global.process.release&&global.process.release.name);a&&(global.self=global);var b;a&&(b=require("worker_threads"));let d=a?b.parentPort:self,k,f,v,A=!1,O,F,z,P=0,Q=0;const sa=(a,b)=>{b>P&&(Q&&Module._free(Q),Q=Module._malloc(b),P=b);Module.HEAPU8.set(a.subarray(0,b),Q)};let X,ta=new Promise(a=>{X=a});self.KModule=self.Module={locateFile:function(b){return"libDynamsoftBarcodeReader.wasm"==b?a?f+"dbr-"+v+".node.wasm":f+"dbr-"+v+(A?".full":"")+
".wasm":f+b},print:a=>{I(a)},printErr:a=>{console.error(a);I(a)},onRuntimeInitialized:function(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){I("wasm initialized, cost "+(Date.now()-O)+" ms");a||(Module=KModule);X()})}};let T=()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){I("wasm loading...");O=Date.now();if(a){let a=Module;Module=require("./dbr-"+v+".node.wasm.js");for(let b in a)Module[b]=a[b]}else importScripts(f+"dbr-"+v+(A?".full":"")+".wasm.js")}),Y=a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ta;
Module.BarcodeReaderWasm.init(JSON.stringify(a))}),ua=()=>Module.BarcodeReaderWasm.getMinExpireTime(),va=()=>Module.BarcodeReaderWasm.getMaxExpireTime(),w=new Map,Na=0;b=function(b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var t=b.data?b.data:b,p=t.id,u=t.instanceID;const y=t.body;!F||"decodeBuffer"!=t.type&&"decodeFileInMemory"!=t.type||(yield z.c());switch(t.type){case "loadWasm":try{k=t.bd;f=t.engineResourcePath;A=t.bUseFullFeature;v=t.version;let a=t.dm,b=t.pk;F=t.brtk;
T();F?(z=(a=>{const b=!!("object"==typeof global&&global.process&&global.process.release&&global.process.release.name);let d,g=a.product,m,f,k,p,t,v,u,y,A,w=["https://mlts.dynamsoft.com/","https://slts.dynamsoft.com/"],C,z,R,D,la,F,I=!1,Q=Promise.resolve(),N=a.lf,U,B,K,da,O=a.log||(()=>{}),T=a.debugLog||(()=>{}),P,X,Y,wa=a.sutlcb;Date.prototype.kUtilFormat=function(a){var b={"M+":this.getUTCMonth()+1,"d+":this.getUTCDate(),"H+":this.getUTCHours(),"h+":this.getUTCHours()%12||12,"m+":this.getUTCMinutes(),
"s+":this.getUTCSeconds(),"q+":Math.floor((this.getUTCMonth()+3)/3),"S+":this.getUTCMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getUTCFullYear()+"").substr(4-RegExp.$1.length)));for(var x in b)(new RegExp("("+x+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[x]:("000"+b[x]).substr(("000"+b[x]).length-RegExp.$1.length)));return a};let S,n=a=>a.join("");var ra=[80,88,27,82,145,164,199,211],sa=[187,87,89,128,150,44,190,213],L=[89,51,74,53,99,72,82,118],ta=[99,181,118,158,
215,103,76,117],J=[99,51,86,105,100,71,120,108],xa=[97,87,49,119,98,51,74,48,83,50,86,53],ya=[81,85,86,84,76,85,100,68,84,81,32,32],Ea=[90,87,53,106,99,110,108,119,100,65,32,32],Fa=[90,71,86,106,99,110,108,119,100,65,32,32],Ga=[97,88,89,32],ua=[29,83,122,137,5,180,157,114],Ha=[100,71,70,110,84,71,86,117,90,51,82,111];let Ia=()=>self[n(L)][n(J)][n(xa)]("raw",new Uint8Array(ra.concat(sa,ta,ua)),n(ya),!0,[n(Ea),n(Fa)]),Z=a.fdaa||(a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(self[n(L)]&&
self[n(L)][n(J)]&&self[n(L)][n(J)][n(xa)]){var b=atob(a),x=new Uint8Array(b.length);for(let a=0;a<b.length;++a)x[a]=b.charCodeAt(a);b=x.subarray(0,12);x=x.subarray(b.length);S||(S=yield Ia());x=yield self[n(L)][n(J)][n(Fa)]({name:n(ya),[n(Ga)]:b,[n(Ha)]:128},S,x);return String.fromCharCode.apply(null,new Uint8Array(x))}})),aa=a.feab||(a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(self[n(L)]&&self[n(L)][n(J)]&&self[n(L)][n(J)][n(xa)]){var b=new Uint8Array(a.length);for(var x=0;x<a.length;++x)b[x]=
a.charCodeAt(x);x=self.crypto.getRandomValues(new Uint8Array(12));S||(S=yield Ia());b=yield self[n(L)][n(J)][n(Ea)]({name:n(ya),[n(Ga)]:x,[n(Ha)]:128},S,b);b=new Uint8Array(b);let d=new Uint8Array(x.length+b.length);d.set(x);d.set(b,x.length);return btoa(String.fromCharCode.apply(null,d))}})),Ja,fa=a.gu||(()=>{if(self.crypto){let a=new Uint8Array(36);self.crypto.getRandomValues(a);let b="";for(let x=0;36>x;++x){let d=a[x]%36;b=10>d?b+d:b+String.fromCharCode(d+87)}return b}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}),La=()=>{N||self.localforage||(b?(global.localforage=require("node-localstorage").LocalStorage,global.localforage.prototype.keys=function(){let a=[];for(let b=0;b<this.length;++b)a.push(this.key(b));return a},global.localforage.createInstance=function(a){return new N("./dynamsoftverify/"+a.name)}):!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],
a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=a()}(function(){return function ha(a,b,d){function g(f,H){if(!b[f]){if(!a[f]){var k="function"==typeof require&&require;if(!H&&k)return k(f,!0);if(m)return m(f,!0);H=Error("Cannot find module '"+f+"'");throw H.code="MODULE_NOT_FOUND",H;}H=b[f]={exports:{}};a[f][0].call(H.exports,function(b){return g(a[f][1][b]||b)},H,H.exports,ha,a,b,d)}return b[f].exports}for(var m="function"==
typeof require&&require,f=0;f<d.length;f++)g(d[f]);return g}({1:[function(a,b,d){(function(a){function d(){ha=!0;for(var a,b,d=p.length;d;){b=p;p=[];for(a=-1;++a<d;)b[a]();d=p.length}ha=!1}var g=a.MutationObserver||a.WebKitMutationObserver;if(g){var f=0;g=new g(d);var m=a.document.createTextNode("");g.observe(m,{characterData:!0});var k=function(){m.data=f=++f%2}}else if(a.setImmediate||void 0===a.MessageChannel)k="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=
a.document.createElement("script");b.onreadystatechange=function(){d();b.onreadystatechange=null;b.parentNode.removeChild(b);b=null};a.document.documentElement.appendChild(b)}:function(){setTimeout(d,0)};else{var G=new a.MessageChannel;G.port1.onmessage=d;k=function(){G.port2.postMessage(0)}}var ha,p=[];b.exports=function(a){1!==p.push(a)||ha||k()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,d){function g(){}
function f(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=ea;this.queue=[];this.outcome=void 0;a!==g&&G(this,a)}function m(a,b,d){this.promise=a;"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled);"function"==typeof d&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function k(a,b,d){u(function(){try{var g=b(d)}catch(Qa){return n.reject(a,Qa)}g===a?n.reject(a,new TypeError("Cannot resolve promise with itself")):
n.resolve(a,g)})}function p(a){var b=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof b)return function(){b.apply(a,arguments)}}function G(a,b){function d(b){f||(f=!0,n.reject(a,b))}function g(b){f||(f=!0,n.resolve(a,b))}var f=!1,m=t(function(){b(g,d)});"error"===m.status&&d(m.value)}function t(a,b){var d={};try{d.value=a(b),d.status="success"}catch(Pa){d.status="error",d.value=Pa}return d}var u=a(1),n={},oa=["REJECTED"],w=["FULFILLED"],ea=["PENDING"];b.exports=f;f.prototype.catch=
function(a){return this.then(null,a)};f.prototype.then=function(a,b){if("function"!=typeof a&&this.state===w||"function"!=typeof b&&this.state===oa)return this;var d=new this.constructor(g);this.state!==ea?k(d,this.state===w?a:b,this.outcome):this.queue.push(new m(d,a,b));return d};m.prototype.callFulfilled=function(a){n.resolve(this.promise,a)};m.prototype.otherCallFulfilled=function(a){k(this.promise,this.onFulfilled,a)};m.prototype.callRejected=function(a){n.reject(this.promise,a)};m.prototype.otherCallRejected=
function(a){k(this.promise,this.onRejected,a)};n.resolve=function(a,b){var d=t(p,b);if("error"===d.status)return n.reject(a,d.value);if(d=d.value)G(a,d);else{a.state=w;a.outcome=b;d=-1;for(var g=a.queue.length;++d<g;)a.queue[d].callFulfilled(b)}return a};n.reject=function(a,b){a.state=oa;a.outcome=b;for(var d=-1,g=a.queue.length;++d<g;)a.queue[d].callRejected(b);return a};f.resolve=function(a){return a instanceof this?a:n.resolve(new this(g),a)};f.reject=function(a){var b=new this(g);return n.reject(b,
a)};f.all=function(a){function b(a,b){d.resolve(a).then(function(a){k[b]=a;++H!==f||m||(m=!0,n.resolve(G,k))},function(a){m||(m=!0,n.reject(G,a))})}var d=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var f=a.length,m=!1;if(!f)return this.resolve([]);for(var k=Array(f),H=0,p=-1,G=new this(g);++p<f;)b(a[p],p);return G};f.race=function(a){function b(a){d.resolve(a).then(function(a){m||(m=!0,n.resolve(H,a))},function(a){m||(m=!0,n.reject(H,
a))})}var d=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var f=a.length,m=!1;if(!f)return this.resolve([]);for(var k=-1,H=new this(g);++k<f;)b(a[k]);return H}},{1:1}],3:[function(a,b,d){b="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};"function"!=typeof b.Promise&&(b.Promise=a(2))},{2:2}],4:[function(a,b,d){function g(a,e){a=a||[];e=e||{};try{return new Blob(a,e)}catch(E){if("TypeError"!==
E.name)throw E;for(var c=new ("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),b=0;b<a.length;b+=1)c.append(a[b]);return c.getBlob(e.type)}}function f(a,e){e&&a.then(function(a){e(null,a)},function(a){e(a)})}function m(a,e,b){"function"==typeof e&&a.then(e);"function"==typeof b&&a.catch(b)}function k(a){return"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),
a=String(a)),a}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function n(a){return(new r(function(c){var b=a.transaction(O,P),e=g([""]);b.objectStore(O).put(e,"key");b.onabort=function(a){a.preventDefault();a.stopPropagation();c(!1)};b.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);c(b||!a||43<=parseInt(a[1],10))}})).catch(function(){return!1})}function G(a){return"boolean"==
typeof S?r.resolve(S):n(a).then(function(a){return S=a})}function t(a){a=M[a.name];var c={};c.promise=new r(function(a,b){c.resolve=a;c.reject=b});a.deferredOperations.push(c);a.dbReady?a.dbReady=a.dbReady.then(function(){return c.promise}):a.dbReady=c.promise}function u(a){if(a=M[a.name].deferredOperations.pop())return a.resolve(),a.promise}function w(a,b){if(a=M[a.name].deferredOperations.pop())return a.reject(b),a.promise}function v(a,b){return new r(function(c,e){if(M[a.name]=M[a.name]||R(),a.db){if(!b)return c(a.db);
t(a);a.db.close()}var h=[a.name];b&&h.push(a.version);var q=J.open.apply(J,h);b&&(q.onupgradeneeded=function(c){var b=q.result;try{b.createObjectStore(a.storeName),1>=c.oldVersion&&b.createObjectStore(O)}catch(V){if("ConstraintError"!==V.name)throw V;console.warn('The database "'+a.name+'" has been upgraded from version '+c.oldVersion+" to version "+c.newVersion+', but the storage "'+a.storeName+'" already exists.')}});q.onerror=function(a){a.preventDefault();e(q.error)};q.onsuccess=function(){c(q.result);
u(a)}})}function ea(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),e=a.version>a.db.version;return(a.version<a.db.version&&(a.version!==b&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),e||c)?(c&&(b=a.db.version+1,b>a.version&&(a.version=b)),!0):!1}function oa(a){return new r(function(c,b){var e=new FileReader;e.onerror=b;e.onloadend=function(b){b=btoa(b.target.result||"");c({__local_forage_encoded_blob:!0,
data:b,type:a.type})};e.readAsBinaryString(a)})}function y(a){for(var c=atob(a.data),b=c.length,l=new ArrayBuffer(b),E=new Uint8Array(l),q=0;q<b;q++)E[q]=c.charCodeAt(q);return g([l],{type:a.type})}function A(a){var b=this,c=b._initReady().then(function(){var a=M[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return m(c,a,a),c}function C(a){t(a);for(var b=M[a.name],c=b.forages,l=0;l<c.length;l++){var E=c[l];E._dbInfo.db&&(E._dbInfo.db.close(),E._dbInfo.db=null)}return a.db=null,v(a,!1).then(function(b){return a.db=
b,ea(a)?v(a,!0):b}).then(function(e){a.db=b.db=e;for(var h=0;h<c.length;h++)c[h]._dbInfo.db=e}).catch(function(b){throw w(a,b),b;})}function z(a,b,h,l){void 0===l&&(l=1);try{var c=a.db.transaction(a.storeName,b);h(null,c)}catch(q){if(0<l&&(!a.db||"InvalidStateError"===q.name||"NotFoundError"===q.name))return r.resolve().then(function(){if(!a.db||"NotFoundError"===q.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),v(a,!0)}).then(function(){return C(a).then(function(){z(a,
b,h,l-1)})}).catch(h);h(q)}}function R(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function D(a){var b=.75*a.length;var c=a.length,l=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var E=new ArrayBuffer(b),q=new Uint8Array(E);for(b=0;b<c;b+=4){var d=ba.indexOf(a[b]);var f=ba.indexOf(a[b+1]);var V=ba.indexOf(a[b+2]);var g=ba.indexOf(a[b+3]);q[l++]=d<<2|f>>4;q[l++]=(15&f)<<4|V>>2;q[l++]=(3&V)<<6|63&g}return E}function F(a){var b=new Uint8Array(a),c="";for(a=0;a<b.length;a+=
3)c+=ba[b[a]>>2],c+=ba[(3&b[a])<<4|b[a+1]>>4],c+=ba[(15&b[a+1])<<2|b[a+2]>>6],c+=ba[63&b[a+2]];return 2==b.length%3?c=c.substring(0,c.length-1)+"=":1==b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}function la(a,b,h,l){a.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],h,l)}function B(a,b,h,l,E,q){a.executeSql(h,l,E,function(a,c){c.code===c.SYNTAX_ERR?a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],
function(a,e){e.rows.length?q(a,c):la(a,b,function(){a.executeSql(h,l,E,q)},q)},q):q(a,c)},q)}function I(a,b,h,l){var c=this;a=k(a);var e=new r(function(e,q){c.ready().then(function(){void 0===b&&(b=null);var E=b,d=c._dbInfo;d.serializer.serialize(b,function(b,f){f?q(f):d.db.transaction(function(c){B(c,d,"INSERT OR REPLACE INTO "+d.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){e(E)},function(a,b){q(b)})},function(b){if(b.code===b.QUOTA_ERR){if(0<l)return void e(I.apply(c,[a,E,h,l-1]));
q(b)}})})}).catch(q)});return f(e,h),e}function N(a){return new r(function(b,c){a.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,e){c=[];for(var h=0;h<e.rows.length;h++)c.push(e.rows.item(h).name);b({db:a,storeNames:c})},function(a,b){c(b)})},function(a){c(a)})})}function L(a,b){var c=a.name+"/";return a.storeName!==b.storeName&&(c+=a.storeName+"/"),c}function Q(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function K(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var h in b)b.hasOwnProperty(h)&&(aa(b[h])?arguments[0][h]=b[h].slice():arguments[0][h]=b[h])}return arguments[0]}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},J=function(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;
if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}();"undefined"==typeof Promise&&a(3);var r=Promise,O="local-forage-detect-blob-support",S=void 0,M={},Z=Object.prototype.toString,P="readwrite";a={_driver:"asyncStorage",_initStorage:function(a){function b(){return r.resolve()}var c=this,l={db:null};if(a)for(var d in a)l[d]=a[d];var q=M[l.name];q||(q=R(),M[l.name]=q);q.forages.push(c);c._initReady||
(c._initReady=c.ready,c.ready=A);a=[];for(d=0;d<q.forages.length;d++){var f=q.forages[d];f!==c&&a.push(f._initReady().catch(b))}var g=q.forages.slice(0);return r.all(a).then(function(){return l.db=q.db,v(l,!1)}).then(function(a){return l.db=a,ea(l,c._defaultConfig.version)?v(l,!0):a}).then(function(a){l.db=q.db=a;c._dbInfo=l;for(a=0;a<g.length;a++){var b=g[a];b!==c&&(b._dbInfo.db=l.db,b._dbInfo.version=l.version)}})},_support:function(){try{if(!J)return!1;var a="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&
!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!a||b)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(h){return!1}}(),iterate:function(a,b){var c=this,e=new r(function(b,e){c.ready().then(function(){z(c._dbInfo,"readonly",function(h,q){if(h)return e(h);try{var l=q.objectStore(c._dbInfo.storeName).openCursor(),d=1;l.onsuccess=function(){var c=l.result;if(c){var e=c.value;
e&&e.__local_forage_encoded_blob&&(e=y(e));e=a(e,c.key,d++);void 0!==e?b(e):c.continue()}else b()};l.onerror=function(){e(l.error)}}catch(Aa){e(Aa)}})}).catch(e)});return f(e,b),e},getItem:function(a,b){var c=this;a=k(a);var e=new r(function(b,e){c.ready().then(function(){z(c._dbInfo,"readonly",function(h,l){if(h)return e(h);try{var d=l.objectStore(c._dbInfo.storeName).get(a);d.onsuccess=function(){var a=d.result;void 0===a&&(a=null);a&&a.__local_forage_encoded_blob&&(a=y(a));b(a)};d.onerror=function(){e(d.error)}}catch(ma){e(ma)}})}).catch(e)});
return f(e,b),e},setItem:function(a,b,h){var c=this;a=k(a);var e=new r(function(e,h){var d;c.ready().then(function(){return d=c._dbInfo,"[object Blob]"===Z.call(b)?G(d.db).then(function(a){return a?b:oa(b)}):b}).then(function(b){z(c._dbInfo,P,function(d,l){if(d)return h(d);try{var q=l.objectStore(c._dbInfo.storeName);null===b&&(b=void 0);var f=q.put(b,a);l.oncomplete=function(){void 0===b&&(b=null);e(b)};l.onabort=l.onerror=function(){h(f.error?f.error:f.transaction.error)}}catch(Ba){h(Ba)}})}).catch(h)});
return f(e,h),e},removeItem:function(a,b){var c=this;a=k(a);var e=new r(function(b,e){c.ready().then(function(){z(c._dbInfo,P,function(h,d){if(h)return e(h);try{var l=d.objectStore(c._dbInfo.storeName).delete(a);d.oncomplete=function(){b()};d.onerror=function(){e(l.error)};d.onabort=function(){e(l.error?l.error:l.transaction.error)}}catch(ma){e(ma)}})}).catch(e)});return f(e,b),e},clear:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){z(b._dbInfo,P,function(e,h){if(e)return c(e);
try{var d=h.objectStore(b._dbInfo.storeName).clear();h.oncomplete=function(){a()};h.onabort=h.onerror=function(){c(d.error?d.error:d.transaction.error)}}catch(V){c(V)}})}).catch(c)});return f(c,a),c},length:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){z(b._dbInfo,"readonly",function(e,h){if(e)return c(e);try{var d=h.objectStore(b._dbInfo.storeName).count();d.onsuccess=function(){a(d.result)};d.onerror=function(){c(d.error)}}catch(V){c(V)}})}).catch(c)});return f(c,a),c},
key:function(a,b){var c=this,e=new r(function(b,e){if(0>a)return void b(null);c.ready().then(function(){z(c._dbInfo,"readonly",function(h,d){if(h)return e(h);try{var l=!1,q=d.objectStore(c._dbInfo.storeName).openCursor();q.onsuccess=function(){var c=q.result;if(!c)return void b(null);0===a?b(c.key):l?b(c.key):(l=!0,c.advance(a))};q.onerror=function(){e(q.error)}}catch(Aa){e(Aa)}})}).catch(e)});return f(e,b),e},keys:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){z(b._dbInfo,
"readonly",function(e,h){if(e)return c(e);try{var d=h.objectStore(b._dbInfo.storeName).openCursor(),l=[];d.onsuccess=function(){var b=d.result;if(!b)return void a(l);l.push(b.key);b.continue()};d.onerror=function(){c(d.error)}}catch(ma){c(ma)}})}).catch(c)});return f(c,a),c},dropInstance:function(a,b){b=p.apply(this,arguments);var c=this.config();a="function"!=typeof a&&a||{};a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);a.name?(c=a.name===c.name&&this._dbInfo.db?r.resolve(this._dbInfo.db):
v(a,!1).then(function(b){var c=M[a.name],e=c.forages;c.db=b;for(c=0;c<e.length;c++)e[c]._dbInfo.db=b;return b}),c=a.storeName?c.then(function(b){if(b.objectStoreNames.contains(a.storeName)){var c=b.version+1;t(a);var e=M[a.name],d=e.forages;b.close();for(b=0;b<d.length;b++){var h=d[b];h._dbInfo.db=null;h._dbInfo.version=c}return(new r(function(b,e){var d=J.open(a.name,c);d.onerror=function(a){d.result.close();e(a)};d.onupgradeneeded=function(){d.result.deleteObjectStore(a.storeName)};d.onsuccess=
function(){var a=d.result;a.close();b(a)}})).then(function(a){e.db=a;for(var b=0;b<d.length;b++){var c=d[b];c._dbInfo.db=a;u(c._dbInfo)}}).catch(function(b){throw(w(a,b)||r.resolve()).catch(function(){}),b;})}}):c.then(function(b){t(a);var c=M[a.name],e=c.forages;b.close();for(b=0;b<e.length;b++)e[b]._dbInfo.db=null;return(new r(function(b,c){var e=J.deleteDatabase(a.name);e.onerror=e.onblocked=function(a){var b=e.result;b&&b.close();c(a)};e.onsuccess=function(){var a=e.result;a&&a.close();b(a)}})).then(function(a){c.db=
a;for(a=0;a<e.length;a++)u(e[a]._dbInfo)}).catch(function(b){throw(w(a,b)||r.resolve()).catch(function(){}),b;})})):c=r.reject("Invalid arguments");return f(c,b),c}};var ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=/^~~local_forage_type~([^~]+)~/,Y=Object.prototype.toString,U={serialize:function(a,b){var c="";if(a&&(c=Y.call(a)),a&&("[object ArrayBuffer]"===c||a.buffer&&"[object ArrayBuffer]"===Y.call(a.buffer))){var e,d="__lfsc__:";a instanceof ArrayBuffer?(e=a,d+="arbf"):
(e=a.buffer,"[object Int8Array]"===c?d+="si08":"[object Uint8Array]"===c?d+="ui08":"[object Uint8ClampedArray]"===c?d+="uic8":"[object Int16Array]"===c?d+="si16":"[object Uint16Array]"===c?d+="ur16":"[object Int32Array]"===c?d+="si32":"[object Uint32Array]"===c?d+="ui32":"[object Float32Array]"===c?d+="fl32":"[object Float64Array]"===c?d+="fl64":b(Error("Failed to get type for BinaryArray")));b(d+F(e))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+a.type+
"~"+F(this.result);b("__lfsc__:blob"+c)},c.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(q){console.error("Couldn't convert value into a JSON string: ",a),b(null,q)}},deserialize:function(a){if("__lfsc__:"!==a.substring(0,9))return JSON.parse(a);var b=a.substring(13);a=a.substring(9,13);if("blob"===a&&X.test(b)){var c=b.match(X);var d=c[1];b=b.substring(c[0].length)}b=D(b);switch(a){case "arbf":return b;case "blob":return g([b],{type:d});case "si08":return new Int8Array(b);case "ui08":return new Uint8Array(b);
case "uic8":return new Uint8ClampedArray(b);case "si16":return new Int16Array(b);case "ur16":return new Uint16Array(b);case "si32":return new Int32Array(b);case "ui32":return new Uint32Array(b);case "fl32":return new Float32Array(b);case "fl64":return new Float64Array(b);default:throw Error("Unkown type: "+a);}},stringToBuffer:D,bufferToString:F};d={_driver:"webSQLStorage",_initStorage:function(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];a=new r(function(a,
e){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(Ka){return e(Ka)}c.db.transaction(function(d){la(d,c,function(){b._dbInfo=c;a()},function(a,b){e(b)})},e)});return c.serializer=U,a},_support:"function"==typeof openDatabase,iterate:function(a,b){var c=this,e=new r(function(b,e){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){B(c,d,"SELECT * FROM "+d.storeName,[],function(c,e){c=e.rows;e=c.length;for(var h=0;h<e;h++){var f=c.item(h),l=f.value;if(l&&
(l=d.serializer.deserialize(l)),void 0!==(l=a(l,f.key,h+1)))return void b(l)}b()},function(a,b){e(b)})})}).catch(e)});return f(e,b),e},getItem:function(a,b){var c=this;a=k(a);var e=new r(function(b,e){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){B(c,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){(a=c.rows.length?c.rows.item(0).value:null)&&(a=d.serializer.deserialize(a));b(a)},function(a,b){e(b)})})}).catch(e)});return f(e,b),e},setItem:function(a,
b,d){return I.apply(this,[a,b,d,1])},removeItem:function(a,b){var c=this;a=k(a);var e=new r(function(b,e){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){B(c,d,"DELETE FROM "+d.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){e(b)})})}).catch(e)});return f(e,b),e},clear:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){var e=b._dbInfo;e.db.transaction(function(b){B(b,e,"DELETE FROM "+e.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});
return f(c,a),c},length:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){var e=b._dbInfo;e.db.transaction(function(b){B(b,e,"SELECT COUNT(key) as c FROM "+e.storeName,[],function(b,c){b=c.rows.item(0).c;a(b)},function(a,b){c(b)})})}).catch(c)});return f(c,a),c},key:function(a,b){var c=this,e=new r(function(b,e){c.ready().then(function(){var d=c._dbInfo;d.db.transaction(function(c){B(c,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){a=c.rows.length?
c.rows.item(0).key:null;b(a)},function(a,b){e(b)})})}).catch(e)});return f(e,b),e},keys:function(a){var b=this,c=new r(function(a,c){b.ready().then(function(){var e=b._dbInfo;e.db.transaction(function(b){B(b,e,"SELECT key FROM "+e.storeName,[],function(b,c){b=[];for(var e=0;e<c.rows.length;e++)b.push(c.rows.item(e).key);a(b)},function(a,b){c(b)})})}).catch(c)});return f(c,a),c},dropInstance:function(a,b){b=p.apply(this,arguments);var c=this.config();a="function"!=typeof a&&a||{};a.name||(a.name=a.name||
c.name,a.storeName=a.storeName||c.storeName);var e,d=this;return e=a.name?(new r(function(b){var e=a.name===c.name?d._dbInfo.db:openDatabase(a.name,"","",0);b(a.storeName?{db:e,storeNames:[a.storeName]}:N(e))})).then(function(a){return new r(function(b,c){a.db.transaction(function(e){function d(a){return new r(function(b,c){e.executeSql("DROP TABLE IF EXISTS "+a,[],function(){b()},function(a,b){c(b)})})}for(var f=[],h=0,l=a.storeNames.length;h<l;h++)f.push(d(a.storeNames[h]));r.all(f).then(function(){b()}).catch(function(a){c(a)})},
function(a){c(a)})})}):r.reject("Invalid arguments"),f(e,b),e}};try{var ia="undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(c){ia=!1}var da=function(a,b){for(var c=a.length,e=0;e<c;){var d=a[e],f=b;if(d===f||"number"==typeof d&&"number"==typeof f&&isNaN(d)&&isNaN(f))return!0;e++}return!1},aa=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},na={},fa={},ja={INDEXEDDB:a,WEBSQL:d,LOCALSTORAGE:{_driver:"localStorageWrapper",
_initStorage:function(a){var b={};if(a)for(var c in a)b[c]=a[c];b.keyPrefix=L(a,this._defaultConfig);try{var d=(localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1)}catch(E){d=!0}return!d||0<localStorage.length?(this._dbInfo=b,b.serializer=U,r.resolve()):r.reject()},_support:ia,iterate:function(a,b){var c=this,e=c.ready().then(function(){for(var b=c._dbInfo,e=b.keyPrefix,d=e.length,f=localStorage.length,h=1,l=0;l<f;l++){var g=localStorage.key(l);
if(0===g.indexOf(e)){var m=localStorage.getItem(g);if(m&&(m=b.serializer.deserialize(m)),void 0!==(m=a(m,g.substring(d),h++)))return m}}});return f(e,b),e},getItem:function(a,b){var c=this;a=k(a);var e=c.ready().then(function(){var b=c._dbInfo,e=localStorage.getItem(b.keyPrefix+a);return e&&(e=b.serializer.deserialize(e)),e});return f(e,b),e},setItem:function(a,b,d){var c=this;a=k(a);var e=c.ready().then(function(){void 0===b&&(b=null);var e=b;return new r(function(d,f){var h=c._dbInfo;h.serializer.serialize(b,
function(b,c){if(c)f(c);else try{localStorage.setItem(h.keyPrefix+a,b),d(e)}catch(pa){"QuotaExceededError"!==pa.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==pa.name||f(pa),f(pa)}})})});return f(e,d),e},removeItem:function(a,b){var c=this;a=k(a);var e=c.ready().then(function(){localStorage.removeItem(c._dbInfo.keyPrefix+a)});return f(e,b),e},clear:function(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;0<=c;c--){var e=localStorage.key(c);0===e.indexOf(a)&&localStorage.removeItem(e)}});
return f(c,a),c},length:function(a){var b=this.keys().then(function(a){return a.length});return f(b,a),b},key:function(a,b){var c=this,e=c.ready().then(function(){var b=c._dbInfo;try{var e=localStorage.key(a)}catch(Ka){e=null}return e&&(e=e.substring(b.keyPrefix.length)),e});return f(e,b),e},keys:function(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,e=[],d=0;d<c;d++){var f=localStorage.key(d);0===f.indexOf(a.keyPrefix)&&e.push(f.substring(a.keyPrefix.length))}return e});
return f(c,a),c},dropInstance:function(a,b){if(b=p.apply(this,arguments),a="function"!=typeof a&&a||{},!a.name){var c=this.config();a.name=a.name||c.name;a.storeName=a.storeName||c.storeName}var e,d=this;return e=a.name?(new r(function(b){b(a.storeName?L(a,d._defaultConfig):a.name+"/")})).then(function(a){for(var b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);0===c.indexOf(a)&&localStorage.removeItem(c)}}):r.reject("Invalid arguments"),f(e,b),e}}};ia=[ja.INDEXEDDB._driver,ja.WEBSQL._driver,
ja.LOCALSTORAGE._driver];var W=["dropInstance"],ca="clear getItem iterate key keys length removeItem setItem".split(" ").concat(W),ka={description:"",driver:ia.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};ia=new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");for(var c in ja)if(ja.hasOwnProperty(c)){var e=ja[c],d=e._driver;this[c]=d;na[d]||this.defineDriver(e)}this._defaultConfig=K({},ka);this._config=K({},
this._defaultConfig,b);this._initDriver=this._driverSet=null;this._ready=!1;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if("object"===(void 0===a?"undefined":T(a))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a){if("storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),"version"===b&&"number"!=typeof a[b])return Error("Database version must be a number.");
this._config[b]=a[b]}return!("driver"in a&&a.driver)||this.setDriver(this._config.driver)}return"string"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new r(function(b,c){try{var d=a._driver,e=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!a._driver)return void c(e);for(var g=ca.concat("_initStorage"),m=0,h=g.length;m<h;m++){var l=g[m];if((!da(W,l)||a[l])&&"function"!=typeof a[l])return void c(e)}(function(){for(var b=
function(a){return function(){var b=r.reject(Error("Method "+a+" is not implemented by the current driver"));return f(b,arguments[arguments.length-1]),b}},c=0,d=W.length;c<d;c++){var e=W[c];a[e]||(a[e]=b(e))}})();e=function(c){na[d]&&console.info("Redefining LocalForage driver: "+d);na[d]=a;fa[d]=c;b()};"_support"in a?a._support&&"function"==typeof a._support?a._support().then(e,c):e(!!a._support):e(!0)}catch(Ba){c(Ba)}});return m(d,b,c),d},a.prototype.driver=function(){return this._driver||null},
a.prototype.getDriver=function(a,b,c){a=na[a]?r.resolve(na[a]):r.reject(Error("Driver not found."));return m(a,b,c),a},a.prototype.getSerializer=function(a){var b=r.resolve(U);return m(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return m(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){g._config.driver=g.driver()}function e(a){return g._extend(a),d(),g._ready=g._initStorage(g._config),g._ready}
function f(a){return function(){function b(){for(;c<a.length;){var f=a[c];return c++,g._dbInfo=null,g._ready=null,g.getDriver(f).then(e).catch(b)}d();return g._driverSet=r.reject(Error("No available storage method found.")),g._driverSet}var c=0;return b()}}var g=this;aa(a)||(a=[a]);var h=this._getSupportedDrivers(a);return this._driverSet=(null!==this._driverSet?this._driverSet.catch(function(){return r.resolve()}):r.resolve()).then(function(){var a=h[0];return g._dbInfo=null,g._ready=null,g.getDriver(a).then(function(a){g._driver=
a._driver;d();g._wrapLibraryMethodsWithReady();g._initDriver=f(h)})}).catch(function(){d();return g._driverSet=r.reject(Error("No available storage method found.")),g._driverSet}),m(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!fa[a]},a.prototype._extend=function(a){K(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=
0,b=ca.length;a<b;a++)Q(this,ca[a])},a.prototype.createInstance=function(b){return new a(b)},a}());b.exports=ia},{3:3}]},{},[4])(4)}));N=N||self.localforage},va=()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){La();b&&(global.fetch=global.fetch||require("node-fetch"),global.crypto=global.crypto||require("crypto").webcrypto,global.btoa=global.btoa||(a=>Buffer.from(a,"binary").toString("base64")),global.atob=global.atob||(a=>Buffer.from(a,"base64").toString("binary")));n=a=>atob(String.fromCharCode.apply(null,
a).replace(/\n/g,"+").replace(/\s/g,"="));try{yield(yield N.createInstance({name:g+"jshello"})).setItem(g+"jshello","available")}catch(x){throw x;}B=yield N.createInstance({name:"dynamltsinfo"});K=btoa(String.fromCharCode(k.charCodeAt(v.length/2)+1)+String.fromCharCode(k.charCodeAt(2*v.length/3)+7)+btoa(v)+f);da=btoa(String.fromCharCode(k.charCodeAt(0)+10)+btoa(k)+f);try{let a=yield B.getItem(K);a&&([u,D]=JSON.parse(yield Z(a)))}catch(x){}try{null==u&&(u=Ja||fa())}catch(x){}U=yield N.createInstance({name:"dynamltsuns"+
btoa(String.fromCharCode(k.charCodeAt(0)+10)+btoa(u)+btoa(g))});try{t=yield B.getItem(da)}catch(x){}}),W,ca=a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){W||(W=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{let d={hs:k,og:p,pd:g,vm:f,dt:b?"server":"browser",ed:"javascript",cu:u,ad:v,os:JSON.stringify(y),fn:A},m={};if(D){let a=yield B.getItem(K);a&&([u,D]=JSON.parse(yield Z(a)));m["lts-time"]=D}C&&(d.sp=C);z&&(d.lm=z);R&&(d.cw=R);t=yield Promise.race([(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){let b=
(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");D&&(B.setItem(K,yield aa(JSON.stringify([u,b]))),D=b);let f;var g="auth/?ext="+encodeURIComponent(btoa(JSON.stringify(d)));let x=!1,k=!1,p,n,t=a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(a&&!a.ok)try{let b=yield a.text();if(b){p=b;let a=JSON.parse(b);a.errorCode&&(n=a,100<a.errorCode&&200>a.errorCode&&(k=x=!0))}}catch(Ra){}});try{f=yield fetch(w[0]+g,{headers:m,cache:a?"reload":"default"}),yield t(f)}catch(za){}if(!(D||f&&f.ok||
x))try{f=yield fetch(w[1]+g,{headers:m}),yield t(f)}catch(za){}if(!(D||f&&f.ok||x))try{f=yield fetch(w[0]+g,{headers:m}),yield t(f)}catch(za){}n&&151==n.errorCode&&(B.removeItem(K),B.removeItem(da),u=fa(),d.cu=u,D=void 0,g=encodeURIComponent(btoa(JSON.stringify(d))),f=yield fetch(w[0]+"auth/?ext="+g,{headers:m}),yield t(f));(()=>{if(!f||!f.ok){k&&B.setItem(da,"");let a="Auth failed. ";a=n?a+("Error Code: "+n.errorCode+", message: "+n.message):a+(p||"Network connect error.");throw Error(a);}})();g=
yield f.text();try{D||(B.setItem(K,yield aa(JSON.stringify([u,b]))),D=b),B.setItem(da,g)}catch(za){}return g}))(),new Promise((a,b)=>{setTimeout(()=>b(Error("Network Error. Request timeout.")),t?3E3:3E4)})])}catch(G){d&&console.error(G),F=G}la=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");W=null}))());yield W}),ka,qa=()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka||(ka=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){let a={pd:g,dm:v};d&&(a.bd=!0);a.ls=w[0];a.cu=
u;R&&(a.cw=R);y&&(a.os=JSON.stringify(y));k&&(a.hs=k);p&&(a.og=p);A&&(a.fn=A);T(u);T(t);if(t){try{let b=JSON.parse(yield Z(t));b.ba&&(a.ba=b.ba);b.usu&&(a.usu=b.usu);b.its&&(a.its=b.its);a.ar=b.in}catch(G){}T(a);try{yield P(a)}catch(G){}I||(I=!0);ka=null}else if(!I)throw O(F.message),F;}))());yield ka}),Ma=!1,Ca=null,Da=(a,b)=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){Q=Q.then(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{let f=yield U.keys();b||(Ma?a&&(f=f.filter(b=>
b<a)):(a&&(f=[a]),Ma=!0));for(let a=0;a<f.length/1E3;++a){let b=f.slice(1E3*a,1E3*a+999);var d=[];for(let a=0;a<b.length;++a)d.push(yield U.getItem(b[a]));let g=(new Date).kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");B.setItem(K,yield aa(JSON.stringify([u,g])));{let a=yield B.getItem(K);a&&([u,D]=JSON.parse(yield Z(a)))}let m=yield fetch(w[0]+"verify",{mode:"cors",method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json","lts-time":D}});if(m.ok){D=g;for(d=0;d<b.length;++d)yield U.removeItem(b[d]);
(yield m.json()).handshakeUpdateTime>la&&(yield ca(!0),yield qa())}}wa&&wa()}catch(ea){}}))});return{i:a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){d=a.bd;m=a.version;f=m.split(".")[0];v=a.dm;k=a.pk;p=a.og;y=a.browserInfo;A=a.deviceFriendlyName;a.ls&&a.ls.length&&(w=a.ls,1==w.length&&w.push(w[0]));C=a.sp;z=a.lm;R=a.cw;a.lf&&(N=a.lf);a.pu&&(Ja=a.pu);a.gu&&(fa=a.gu);a.fdaa&&(Z=a.fdaa);a.feab&&(aa=a.feab);P=a.updateLicense;X=a.getMinExpireTime;Y=a.getMaxExpireTime;a.sutlcb&&(wa=a.sutlcb);
yield va();yield ca();yield qa();F||Da(null,!0)}),c:()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var a=new Date,b=a.kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ");let d=X(),f=Y();f&&f<b?(yield ca(!0),yield qa()):d&&d<b&&(a.setMinutes(a.getMinutes()-6),b=a,a=null,a=b.kUtilFormat("yyyy-MM-ddTHH:mm:ss.SSSZ"),D<a&&ca().then(()=>qa()))}),s:(a,b,d,f)=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){b=yield aa(b);try{yield U.setItem(d,b)}catch(ha){}f&&Da(d);Ca&&clearTimeout(Ca);Ca=setTimeout(()=>
{Da()},18E4)}),gcu:a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){let b=btoa(String.fromCharCode(a.charCodeAt(a.length/2)+1)+btoa(a)),d;try{La();n=a=>atob(String.fromCharCode.apply(null,a).replace(/\n/g,"+").replace(/\s/g,"="));let a=yield(yield N.createInstance({name:"dynamltsinfo"})).getItem(b);a&&([d]=JSON.parse(yield Z(a)))}catch(ea){}d||(d=fa());return d})}})({product:"dbr",log:I,debugLog:ra}),self.scsd=z.s,t.updateLicense=Y,t.getMinExpireTime=ua,t.getMaxExpireTime=va,yield z.i(t)):
(p={pk:b,dm:a},k&&(p.bd=!0),yield Y(p));d.postMessage({type:"load",success:!0,version:Module.BarcodeReaderWasm.getVersion()})}catch(g){d.postMessage({type:"load",success:!1,message:g&&g.message,stack:k&&g?g.stack:null})}break;case "createInstance":u=Na++;try{let b=new Module.BarcodeReaderWasm(t.bScanner,u);w.set(u,b);let d=JSON.parse(b.getRuntimeSettings());t.bScanner?(d.localizationModes=[2,0,0,0,0,0,0,0],d.deblurLevel=0):(d.expectedBarcodesCount=512,d.scaleDownThreshold=1E5,d.timeout=1E5);a||A||
(d.barcodeFormatIds=235931647);b.updateRuntimeSettings(JSON.stringify(d))}catch(g){C(g,p);break}d.postMessage({type:"task",id:p,body:{success:!0,instanceID:u}});break;case "destroy":try{w.get(u).delete(),w.delete(u)}catch(g){C(g,p);break}d.postMessage({type:"task",id:p,body:{success:!0}});break;case "decodeBuffer":{t=k?Date.now():0;let a,b,f,v;try{a=k?Date.now():0,sa(y.buffer,y.stride*y.height),b=k?Date.now():0,v=JSON.parse(w.get(u).decodeBufferPtr(Q,y.width,y.height,y.stride,y.format)),f=k?Date.now():
0}catch(Oa){C(Oa,p);break}d.postMessage({type:"task",id:p,body:{success:!0,decodeReturn:v,buffer:y.buffer}},[y.buffer.buffer]);ra(["timeWorkerGetMsg: "+t,"timeBeforeSendBufferToWasm: "+a+" "+(a-t),"timeBeforeDecode: "+b+" "+(b-a),"timefinishDecode: "+f+" "+(f-b)].join("\n"));break}case "decodeFileInMemory":{let a;try{a=JSON.parse(w.get(u).decodeFileInMemory(y.bytes))}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,decodeReturn:a}});break}case "clearMapDecodeRecord":try{w.get(u).clearMapDecodeRecord()}catch(g){C(g,
p);break}d.postMessage({type:"task",id:p,body:{success:!0}});break;case "getRuntimeSettings":{let a;try{a=w.get(u).getRuntimeSettings()}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,results:a}});break}case "updateRuntimeSettings":{let a;try{a=JSON.parse(w.get(u).updateRuntimeSettings(y.settings))}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,updateReturn:a}});break}case "resetRuntimeSettings":try{let a=w.get(u);a.resetRuntimeSettings();let b=JSON.parse(a.getRuntimeSettings());
a.bScanner?(b.localizationModes=[2,0,0,0,0,0,0,0],b.deblurLevel=0,b.barcodeZoneMinDistanceToImageBorders=9):(b.expectedBarcodesCount=512,b.scaleDownThreshold=1E5,b.timeout=1E5);A||(b.barcodeFormatIds=235931647);a.updateRuntimeSettings(JSON.stringify(b))}catch(g){C(b,p);break}d.postMessage({type:"task",id:p,body:{success:!0}});break;case "outputSettingsToString":{let a;try{a=w.get(u).outputSettingsToString()}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,results:a}});break}case "initRuntimeSettingsWithString":{let a;
try{a=JSON.parse(w.get(u).initRuntimeSettingsWithString(y.settings))}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,initReturn:a}});break}case "getIntermediateResults":{let a=[];try{var R=w.get(u).getIntermediateResults(),O=JSON.parse(R,(b,d)=>"bytes"===b&&"ptr"in d&&"length"in d?(b=Module.BarcodeReaderWasm.getBytes(d.ptr,d.length),b=b.slice(0),a.push(b.buffer),b):d)}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,results:O}},a);w.get(u).freeIntermediateResults();
break}case "setModeArgument":{let a;try{a=JSON.parse(w.get(u).setModeArgument(y.modeName,y.index,y.argumentName,y.argumentValue))}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,setReturn:a}});break}case "getModeArgument":{let a;try{a=JSON.parse(w.get(u).getModeArgument(y.modeName,y.index,y.argumentName))}catch(m){C(m,p);break}d.postMessage({type:"task",id:p,body:{success:!0,getReturn:a}});break}case "updateScanSettings":try{let a=w.get(u),b=y.settings;a.duplicateForgetTime=
b.duplicateForgetTime;a.oneDRememberFrameCount=b.oneDRememberFrameCount;a.oneDTrustFrameCount=b.oneDTrustFrameCount;b.frameFilter?a.setFrameFilter(JSON.stringify(b.frameFilter)):a.setFrameFilter("")}catch(g){C(g,p);break}d.postMessage({type:"task",id:p,body:{success:!0}});break;case "getScanSettings":t={};try{let a=w.get(u);t.duplicateForgetTime=a.duplicateForgetTime;t.oneDRememberFrameCount=a.oneDRememberFrameCount;t.oneDTrustFrameCount=a.oneDTrustFrameCount;let b=a.getFrameFilter();b&&(t.frameFilter=
JSON.parse(b))}catch(g){C(g,p);break}d.postMessage({type:"task",id:p,body:{success:!0,results:t}});break;default:console.warn("Unmatched task: ",b)}})};if(a)d.on("message",b);else d.onmessage=b;let I=a=>{d.postMessage({type:"log",message:a})},ra=a=>{k&&I(a)},C=(a,b)=>{d.postMessage({type:"task",id:b,body:{success:!1,message:a.message,stack:a.stack}});setTimeout(()=>{throw a;},0)}})();
